"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[2309],{11192:(e,n,t)=>{t.d(n,{Z:()=>h});var o=t(67294),a=t(67177),i=t(76636),r=t(72400),s=t(28033),l=t(83125);const d={code:"function anonymous(){const{withTiming,height,isExpanded,duration}=this.__closure;return withTiming(height.value*Number(isExpanded.value),{duration:duration});}"},c={code:"function anonymous(){const{derivedHeight}=this.__closure;return{height:derivedHeight.value};}"};function u(e){let{isExpanded:n,children:t,viewKey:i,style:r,duration:s=500}=e;const u=(0,l.useSharedValue)(0),m=(0,l.useDerivedValue)(function(){const e=()=>(0,l.withTiming)(u.value*Number(n.value),{duration:s});return e.__closure={withTiming:l.withTiming,height:u,isExpanded:n,duration:s},e.__workletHash=9057268518231,e.__initData=d,e}()),p=(0,l.useAnimatedStyle)(function(){const e=()=>({height:m.value});return e.__closure={derivedHeight:m},e.__workletHash=0xcf6d94e687a,e.__initData=c,e}());return o.createElement(l.default.View,{key:`accordionItem_${i}`,style:[f.animatedView,p,r]},o.createElement(a.Z,{onLayout:e=>{u.value=e.nativeEvent.layout.height},style:f.wrapper},t))}function m(){return o.createElement(a.Z,{style:f.box})}function p(e){let{open:n}=e;return o.createElement(a.Z,{style:f.parent},o.createElement(u,{isExpanded:n,viewKey:"Accordion"},o.createElement(m,null)))}function h(){const e=(0,l.useSharedValue)(!1);return o.createElement(i.Z,{style:f.container},o.createElement(a.Z,{style:f.buttonContainer},o.createElement(r.Z,{onPress:()=>{e.value=!e.value},title:"Click me"})),o.createElement(a.Z,{style:f.content},o.createElement(p,{open:e})))}const f=s.Z.create({container:{flex:1,justifyContent:"center",paddingTop:24},buttonContainer:{flex:1,paddingBottom:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{flex:1,justifyContent:"center",alignItems:"center"},parent:{width:200},wrapper:{width:"100%",position:"absolute",display:"flex",alignItems:"center"},animatedView:{width:"100%",overflow:"hidden"},box:{height:120,width:120,color:"#f8f9ff",backgroundColor:"#b58df1",borderRadius:20,alignItems:"center",justifyContent:"center"}})},14151:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>d,toc:()=>u});var o=t(87462),a=(t(67294),t(3905)),i=t(11192),r=t(91969);const s={slug:"accordion",title:"Accordion"},l=void 0,d={permalink:"/react-native-reanimated/examples/accordion",source:"@site/blog/accordion.md",title:"Accordion",description:'An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in "FAQ" sections.',date:"2024-07-23T09:30:38.000Z",formattedDate:"July 23, 2024",tags:[],hasTruncateMarker:!1,authors:[],frontMatter:{slug:"accordion",title:"Accordion"},nextItem:{title:"Bottom Sheet",permalink:"/react-native-reanimated/examples/bottomsheet"}},c={authorsImageUrls:[]},u=[],m=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",n)},p=m("InteractiveExample"),h=m("CollapsibleCode"),f=m("ExampleVideo"),y={toc:u},w="wrapper";function g(e){let{components:n,...t}=e;return(0,a.kt)(w,(0,o.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,'An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in "FAQ" sections.'),(0,a.kt)(p,{src:r.Z,component:i.Z,mdxType:"InteractiveExample"}),(0,a.kt)("p",null,"The following implementation of an accordion relies on ",(0,a.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared values"),". Leveraging shared values helps to prevent unnecessary re-renders. We define shared values using the useSharedValue hook."),(0,a.kt)(h,{src:r.Z,showLines:[16,16],mdxType:"CollapsibleCode"}),(0,a.kt)(f,{sources:{android:"/react-native-reanimated/recordings/examples/accordion_android.mov",ios:"/react-native-reanimated/recordings/examples/accordion_ios.mov"},mdxType:"ExampleVideo"}),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"AccordionItem")," component encapsulates each item in the accordion. A ",(0,a.kt)("inlineCode",{parentName:"p"},"height")," shared value manages the height of the item. The height dynamically adjusts based on the ",(0,a.kt)("inlineCode",{parentName:"p"},"isExpanded")," prop, resulting in smooth expansion and collapse animations. The ",(0,a.kt)("inlineCode",{parentName:"p"},"duration")," prop controls the duration of the animation."),(0,a.kt)("p",null,"Inside the ",(0,a.kt)("strong",{parentName:"p"},"AccordionItem"),", the children represent the content section. It can accommodate various types of content."),(0,a.kt)("samp",{id:"Accordion"},"Accordion"),(0,a.kt)(h,{src:r.Z,showLines:[9,41],mdxType:"CollapsibleCode"}))}g.isMDXComponent=!0},91969:(e,n,t)=>{t.d(n,{Z:()=>o});const o="import React from 'react';\nimport { StyleSheet, View, Button, SafeAreaView } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useDerivedValue,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nfunction AccordionItem({\n  isExpanded,\n  children,\n  viewKey,\n  style,\n  duration = 500,\n}) {\n  const height = useSharedValue(0);\n\n  const derivedHeight = useDerivedValue(() =>\n    withTiming(height.value * Number(isExpanded.value), {\n      duration,\n    })\n  );\n  const bodyStyle = useAnimatedStyle(() => ({\n    height: derivedHeight.value,\n  }));\n\n  return (\n    <Animated.View\n      key={`accordionItem_${viewKey}`}\n      style={[styles.animatedView, bodyStyle, style]}>\n      <View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n        }}\n        style={styles.wrapper}>\n        {children}\n      </View>\n    </Animated.View>\n  );\n}\n\nfunction Item() {\n  return <View style={styles.box} />;\n}\n\nfunction Parent({ open }) {\n  return (\n    <View style={styles.parent}>\n      <AccordionItem isExpanded={open} viewKey=\"Accordion\">\n        <Item />\n      </AccordionItem>\n    </View>\n  );\n}\n\nexport default function App() {\n  const open = useSharedValue(false);\n  const onPress = () => {\n    open.value = !open.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.buttonContainer}>\n        <Button onPress={onPress} title=\"Click me\" />\n      </View>\n\n      <View style={styles.content}>\n        <Parent open={open} />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: 24,\n  },\n  buttonContainer: {\n    flex: 1,\n    paddingBottom: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  parent: {\n    width: 200,\n  },\n  wrapper: {\n    width: '100%',\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  animatedView: {\n    width: '100%',\n    overflow: 'hidden',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    color: '#f8f9ff',\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"},72400:(e,n,t)=>{t.d(n,{Z:()=>d});var o=t(67294),a=t(28033),i=t(88548),r=t(24404),s=o.forwardRef(((e,n)=>{var t=e.accessibilityLabel,a=e.color,s=e.disabled,d=e.onPress,c=e.testID,u=e.title;return o.createElement(i.Z,{accessibilityLabel:t,accessibilityRole:"button",disabled:s,focusable:!s,onPress:d,ref:n,style:[l.button,a&&{backgroundColor:a},s&&l.buttonDisabled],testID:c},o.createElement(r.Z,{style:[l.text,s&&l.textDisabled]},u))}));s.displayName="Button";var l=a.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const d=s},76636:(e,n,t)=>{t.d(n,{Z:()=>p});var o=t(87462),a=t(63366),i=t(67294),r=t(28033),s=t(67177),l=t(13145),d=["style"],c=l.Z&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",u=i.forwardRef(((e,n)=>{var t=e.style,l=(0,a.Z)(e,d);return i.createElement(s.Z,(0,o.Z)({},l,{ref:n,style:r.Z.compose(m.root,t)}))}));u.displayName="SafeAreaView";var m=r.Z.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}});const p=u}}]);