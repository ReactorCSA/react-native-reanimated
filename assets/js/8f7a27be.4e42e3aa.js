"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[7303],{3305:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>A,contentTitle:()=>E,default:()=>q,frontMatter:()=>N,metadata:()=>R,toc:()=>D});var a=n(87462),i=n(67294),o=n(3905),r=n(42233),s=n(67177),l=n(72400),m=n(28033);const u={code:"function TimingTsx1(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function d(){const e=(0,r.useSharedValue)(0),t=(0,r.useAnimatedStyle)(function(){const t=()=>({transform:[{translateX:e.value}]});return t.__closure={offset:e},t.__workletHash=9181080072160,t.__initData=u,t}());return i.createElement(s.Z,{style:c.container},i.createElement(r.default.View,{style:[c.box,t]}),i.createElement(l.Z,{title:"shake",onPress:()=>{e.value=(0,r.withTiming)(40)}}))}const c=m.Z.create({container:{flex:1,flexDirection:"column",alignItems:"center"},box:{width:100,height:100,margin:50,borderRadius:15,backgroundColor:"#b58df1"}}),h="import Animated, {\n  useSharedValue,\n  withTiming,\n  useAnimatedStyle,\n} from 'react-native-reanimated';\nimport { View, Button, StyleSheet } from 'react-native';\nimport React from 'react';\n\nexport default function App() {\n  const offset = useSharedValue<number>(0);\n\n  // highlight-start\n  const style = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n  // highlight-end\n\n  const OFFSET = 40;\n\n  const handlePress = () => {\n    // highlight-next-line\n    offset.value = withTiming(OFFSET);\n  };\n\n  return (\n    <View style={styles.container}>\n      {/* highlight-next-line */}\n      <Animated.View style={[styles.box, style]} />\n      <Button title=\"shake\" onPress={handlePress} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    width: 100,\n    height: 100,\n    margin: 50,\n    borderRadius: 15,\n    backgroundColor: '#b58df1',\n  },\n});\n",p={code:"function RepeatTsx1(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function f(){const e=(0,r.useSharedValue)(0),t=(0,r.useAnimatedStyle)(function(){const t=()=>({transform:[{translateX:e.value}]});return t.__closure={offset:e},t.__workletHash=0xbabd9e48867,t.__initData=p,t}());return i.createElement(s.Z,{style:g.container},i.createElement(r.default.View,{style:[g.box,t]}),i.createElement(l.Z,{title:"shake",onPress:()=>{e.value=(0,r.withRepeat)((0,r.withTiming)(40),5,!0)}}))}const g=m.Z.create({container:{flex:1,flexDirection:"column",alignItems:"center"},box:{width:100,height:100,margin:50,borderRadius:15,backgroundColor:"#b58df1"}}),w="import Animated, {\n  useSharedValue,\n  withTiming,\n  useAnimatedStyle,\n  withRepeat,\n} from 'react-native-reanimated';\nimport { View, Button, StyleSheet } from 'react-native';\nimport React from 'react';\n\nexport default function App() {\n  const offset = useSharedValue<number>(0);\n\n  const style = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n\n  const OFFSET = 40;\n\n  const handlePress = () => {\n    // highlight-next-line\n    offset.value = withRepeat(withTiming(OFFSET), 5, true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, style]} />\n      <Button title=\"shake\" onPress={handlePress} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    width: 100,\n    height: 100,\n    margin: 50,\n    borderRadius: 15,\n    backgroundColor: '#b58df1',\n  },\n});\n",y={code:"function SequenceTsx1(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function k(){const e=(0,r.useSharedValue)(0),t=(0,r.useAnimatedStyle)(function(){const t=()=>({transform:[{translateX:e.value}]});return t.__closure={offset:e},t.__workletHash=0xa7e1a25e34f,t.__initData=y,t}());return i.createElement(s.Z,{style:b.container},i.createElement(r.default.View,{style:[b.box,t]}),i.createElement(l.Z,{title:"shake",onPress:()=>{e.value=(0,r.withSequence)((0,r.withTiming)(-40,{duration:125}),(0,r.withRepeat)((0,r.withTiming)(40,{duration:250}),5,!0),(0,r.withTiming)(0,{duration:125}))}}))}const b=m.Z.create({container:{flex:1,flexDirection:"column",alignItems:"center"},box:{width:100,height:100,margin:50,borderRadius:15,backgroundColor:"#b58df1"}}),x="import Animated, {\n  useSharedValue,\n  withTiming,\n  useAnimatedStyle,\n  withRepeat,\n  withSequence,\n} from 'react-native-reanimated';\nimport { View, Button, StyleSheet } from 'react-native';\nimport React from 'react';\n\nexport default function App() {\n  const offset = useSharedValue<number>(0);\n\n  const style = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n\n  const OFFSET = 40;\n  const TIME = 250;\n\n  const handlePress = () => {\n    // highlight-next-line\n    offset.value = withSequence(\n      // start from -OFFSET\n      withTiming(-OFFSET, { duration: TIME / 2 }),\n      // shake between -OFFSET and OFFSET 5 times\n      withRepeat(withTiming(OFFSET, { duration: TIME }), 5, true),\n      // go back to 0 at the end\n      withTiming(0, { duration: TIME / 2 })\n      // highlight-next-line\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, style]} />\n      <Button title=\"shake\" onPress={handlePress} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    width: 100,\n    height: 100,\n    margin: 50,\n    borderRadius: 15,\n    backgroundColor: '#b58df1',\n  },\n});\n",v="import Animated, {\n  useSharedValue,\n  withTiming,\n  Easing,\n  useAnimatedStyle,\n  withRepeat,\n  withSequence,\n  withDelay,\n} from 'react-native-reanimated';\nimport { View, Button, StyleSheet } from 'react-native';\nimport React from 'react';\n\nexport default function App() {\n  const offset = useSharedValue<number>(0);\n\n  const style = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n\n  const OFFSET = 40;\n  const TIME = 250;\n  const DELAY = 400;\n\n  const handlePress = () => {\n    // highlight-next-line\n    offset.value = withDelay(\n      // highlight-next-line\n      DELAY,\n      withSequence(\n        // start from -OFFSET\n        withTiming(-OFFSET, { duration: TIME / 2 }),\n        // shake between -OFFSET and OFFSET 5 times\n        withRepeat(withTiming(OFFSET, { duration: TIME }), 5, true),\n        // go back to 0 at the end\n        withTiming(0, { duration: TIME / 2 })\n      )\n      // highlight-next-line\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, style]} />\n      <Button title=\"shake\" onPress={handlePress} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    width: 100,\n    height: 100,\n    margin: 50,\n    borderRadius: 15,\n    backgroundColor: '#b58df1',\n  },\n});\n",S={code:"function DelayTsx1(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function T(){const e=(0,r.useSharedValue)(0),t=(0,r.useAnimatedStyle)(function(){const t=()=>({transform:[{translateX:e.value}]});return t.__closure={offset:e},t.__workletHash=592679823621,t.__initData=S,t}());return i.createElement(s.Z,{style:C.container},i.createElement(r.default.View,{style:[C.box,t]}),i.createElement(l.Z,{title:"shake",onPress:()=>{e.value=(0,r.withDelay)(400,(0,r.withSequence)((0,r.withTiming)(-40,{duration:125}),(0,r.withRepeat)((0,r.withTiming)(40,{duration:250}),5,!0),(0,r.withTiming)(0,{duration:125})))}}))}const C=m.Z.create({container:{flex:1,flexDirection:"column",alignItems:"center"},box:{width:100,height:100,margin:50,borderRadius:15,backgroundColor:"#b58df1"}}),N={sidebar_position:5},E="Applying modifiers",R={unversionedId:"fundamentals/applying-modifiers",id:"fundamentals/applying-modifiers",title:"Applying modifiers",description:"Another way of customizing animations in Reanimated is by using animation modifiers. Reanimated comes with three built-in modifiers: withRepeat, withSequence, and withDelay.",source:"@site/docs/fundamentals/applying-modifiers.mdx",sourceDirName:"fundamentals",slug:"/fundamentals/applying-modifiers",permalink:"/react-native-reanimated/docs/fundamentals/applying-modifiers",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/edit/main/packages/docs-reanimated/docs/fundamentals/applying-modifiers.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Customizing animations",permalink:"/react-native-reanimated/docs/fundamentals/customizing-animation"},next:{title:"Handling gestures",permalink:"/react-native-reanimated/docs/fundamentals/handling-gestures"}},A={},D=[{value:"Starting point",id:"starting-point",level:2},{value:"Repeating an animation",id:"repeating-an-animation",level:2},{value:"Running animations in a sequence",id:"running-animations-in-a-sequence",level:2},{value:"Starting the animation with delay",id:"starting-the-animation-with-delay",level:2},{value:"Summary",id:"summary",level:2},{value:"What&#39;s next?",id:"whats-next",level:2}],F=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},_=F("CollapsibleCode"),V=F("InteractiveExample"),I={toc:D},P="wrapper";function q(e){let{components:t,...n}=e;return(0,o.kt)(P,(0,a.Z)({},I,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"applying-modifiers"},"Applying modifiers"),(0,o.kt)("p",null,"Another way of ",(0,o.kt)("a",{parentName:"p",href:"/docs/fundamentals/customizing-animation"},"customizing animations")," in Reanimated is by using animation modifiers. Reanimated comes with three built-in modifiers: ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withRepeat"},(0,o.kt)("inlineCode",{parentName:"a"},"withRepeat")),", ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withSequence"},(0,o.kt)("inlineCode",{parentName:"a"},"withSequence")),", and ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withDelay"},(0,o.kt)("inlineCode",{parentName:"a"},"withDelay")),"."),(0,o.kt)("p",null,"Let's build a simple shake animation which uses all the modifiers and learn them along the way. Let's go!"),(0,o.kt)("h2",{id:"starting-point"},"Starting point"),(0,o.kt)("p",null,"In this example, we're going to make an animated box which will shake on a button press after a slight delay."),(0,o.kt)("p",null,"Let's start by having an ",(0,o.kt)("inlineCode",{parentName:"p"},"Animated.View")," and a ",(0,o.kt)("inlineCode",{parentName:"p"},"Button")," which moves the view to the right on press. To achieve this we can use ",(0,o.kt)("inlineCode",{parentName:"p"},"useAnimatedStyle")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"withTiming")," function to smoothly animate our box ",(0,o.kt)("inlineCode",{parentName:"p"},"40px")," to the right."),(0,o.kt)("p",null,"If this sounds new to you, no worries! Start by going through the basics in ",(0,o.kt)("a",{parentName:"p",href:"/docs/fundamentals/your-first-animation"},"Your First Animation")," and come back here when you're ready."),(0,o.kt)(_,{showLines:[8,32],src:h,mdxType:"CollapsibleCode"}),(0,o.kt)(V,{src:h,component:d,mdxType:"InteractiveExample"}),(0,o.kt)("h2",{id:"repeating-an-animation"},"Repeating an animation"),(0,o.kt)("p",null,"To implement our desired shake animation we can use ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withRepeat"},(0,o.kt)("inlineCode",{parentName:"a"},"withRepeat"))," modifier. This modifier lets you repeat a provided animation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import { withRepeat } from 'react-native-reanimated';\n\nfunction App() {\n  sv.value = withRepeat(withTiming(50), 5);\n  // ...\n}\n")),(0,o.kt)("p",null,"Pass a number to the second parameter of the function to make it repeat a given number of times. You can make it repeat forever by passing a non-positive value (eg. ",(0,o.kt)("inlineCode",{parentName:"p"},"0")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"-1"),"). You can make the animation go back and forth by passing ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," to the third (i.e. ",(0,o.kt)("inlineCode",{parentName:"p"},"reverse"),") argument."),(0,o.kt)("p",null,"To learn more about it you can check out the full ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withRepeat"},(0,o.kt)("inlineCode",{parentName:"a"},"withRepeat")," API reference"),"."),(0,o.kt)("p",null,"Let's use this function in our example:"),(0,o.kt)(_,{showLines:[9,29],src:w,mdxType:"CollapsibleCode"}),(0,o.kt)("p",null,"When we run this code we can see that the box jiggles left to right between the set offset and a starting position. After the animation finishes the box doesn't come back to its initial place. It's not really how we imagined a shake animation but we'll get there in a second!"),(0,o.kt)(V,{src:w,component:f,mdxType:"InteractiveExample"}),(0,o.kt)("h2",{id:"running-animations-in-a-sequence"},"Running animations in a sequence"),(0,o.kt)("p",null,"One way to improve our animation is to start it with a left offset and reset it back to starting position after the animation ends. That's a perfect use case for the ",(0,o.kt)("inlineCode",{parentName:"p"},"withSequence")," modifier."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import { withSequence } from 'react-native-reanimated';\n\nfunction App() {\n  sv.value = withSequence(withTiming(50), withTiming(0));\n  // ...\n}\n")),(0,o.kt)("p",null,"This modifier lets you chain animations together. The next animation starts when the previous one ends. You use it by passing animations as arguments in the order you want them to run."),(0,o.kt)("p",null,"To learn more about it you can check out the full ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withSequence"},(0,o.kt)("inlineCode",{parentName:"a"},"withSequence")," API reference"),"."),(0,o.kt)("p",null,"Coming back to our example - we can utilize ",(0,o.kt)("inlineCode",{parentName:"p"},"withSequence")," to improve our animation. First, we'll sway the box to the left which we'll make it to take half of the duration of one swing. Then, we'll shake the box 5 times and finish up the animation by bringing it to starting position also with half of the animation duration."),(0,o.kt)(_,{showLines:[18,32],src:x,mdxType:"CollapsibleCode"}),(0,o.kt)(V,{src:x,component:k,mdxType:"InteractiveExample"}),(0,o.kt)("h2",{id:"starting-the-animation-with-delay"},"Starting the animation with delay"),(0,o.kt)("p",null,"As a cherry on top, we'll add a little bit of suspense by adding a slight delay before the animation begins. For this exact purpose, Reanimated comes with a ",(0,o.kt)("inlineCode",{parentName:"p"},"withDelay")," modifier."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import { withDelay } from 'react-native-reanimated';\n\nfunction App() {\n  sv.value = withDelay(500, withTiming(0));\n  // ...\n}\n")),(0,o.kt)("p",null,"This function as a first parameter takes the duration in milliseconds before the animation starts. The second parameter defines the animation to delay."),(0,o.kt)("p",null,"To learn more about it you can check out the full ",(0,o.kt)("a",{parentName:"p",href:"/docs/animations/withDelay"},(0,o.kt)("inlineCode",{parentName:"a"},"withDelay")," API reference"),"."),(0,o.kt)(_,{showLines:[19,38],src:v,mdxType:"CollapsibleCode"}),(0,o.kt)(V,{src:v,component:T,mdxType:"InteractiveExample"}),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("p",null,"In this section, we learned how to create complex animations by using animation modifiers. To sum up:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Reanimated comes with three built-in animation modifiers - ",(0,o.kt)("inlineCode",{parentName:"li"},"withRepeat"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"withSequence"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},"withDelay"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"withRepeat")," lets you repeat an animation a given number of times or run it indefinitely."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"withSequence")," lets you run animations in a sequence."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"withDelay")," lets you start an animation with a delay.")),(0,o.kt)("h2",{id:"whats-next"},"What's next?"),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"/docs/fundamentals/handling-gestures"},"next section"),", we're going to learn about handling ",(0,o.kt)("inlineCode",{parentName:"p"},"Tap")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Pan")," gestures. Also, we'll get to know the ",(0,o.kt)("inlineCode",{parentName:"p"},"withDecay")," animation function."))}q.isMDXComponent=!0},72400:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(67294),i=n(28033),o=n(88548),r=n(24404),s=a.forwardRef(((e,t)=>{var n=e.accessibilityLabel,i=e.color,s=e.disabled,m=e.onPress,u=e.testID,d=e.title;return a.createElement(o.Z,{accessibilityLabel:n,accessibilityRole:"button",disabled:s,focusable:!s,onPress:m,ref:t,style:[l.button,i&&{backgroundColor:i},s&&l.buttonDisabled],testID:u},a.createElement(r.Z,{style:[l.text,s&&l.textDisabled]},d))}));s.displayName="Button";var l=i.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const m=s}}]);