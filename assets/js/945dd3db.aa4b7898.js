"use strict";(self.webpackChunkdocs_reanimated=self.webpackChunkdocs_reanimated||[]).push([[2309],{11192:(e,n,t)=>{t.d(n,{Z:()=>g});var o=t(67294),i=t(67177),a=t(76636),r=t(72400),s=t(28033),l=t(10758),c=t(56389),d=t(6328),u=t(35842),m=t(49638);const p={code:"function anonymous(){const{withTiming,height,isExpanded,duration}=this.__closure;return withTiming(height.value*Number(isExpanded.value),{duration:duration});}"},h={code:"function anonymous(){const{derivedHeight}=this.__closure;return{height:derivedHeight.value};}"};function y(e){let{isExpanded:n,children:t,viewKey:a,style:r,duration:s=500}=e;const y=(0,l.y)(0),f=(0,c.o)(function(){const e=()=>(0,d.j)(y.value*Number(n.value),{duration:s});return e.__closure={withTiming:d.j,height:y,isExpanded:n,duration:s},e.__workletHash=9057268518231,e.__initData=p,e}()),w=(0,u.l)(function(){const e=()=>({height:f.value});return e.__closure={derivedHeight:f},e.__workletHash=0xcf6d94e687a,e.__initData=h,e}());return o.createElement(m.n,{key:`accordionItem_${a}`,style:[v.animatedView,w,r]},o.createElement(i.Z,{onLayout:e=>{y.value=e.nativeEvent.layout.height},style:v.wrapper},t))}function f(){return o.createElement(i.Z,{style:v.box})}function w(e){let{open:n}=e;return o.createElement(i.Z,{style:v.parent},o.createElement(y,{isExpanded:n,viewKey:"Accordion"},o.createElement(f,null)))}function g(){const e=(0,l.y)(!1);return o.createElement(a.Z,{style:v.container},o.createElement(i.Z,{style:v.buttonContainer},o.createElement(r.Z,{onPress:()=>{e.value=!e.value},title:"Click me"})),o.createElement(i.Z,{style:v.content},o.createElement(w,{open:e})))}const v=s.Z.create({container:{flex:1,justifyContent:"center",paddingTop:24},buttonContainer:{flex:1,paddingBottom:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{flex:1,justifyContent:"center",alignItems:"center"},parent:{width:200},wrapper:{width:"100%",position:"absolute",display:"flex",alignItems:"center"},animatedView:{width:"100%",overflow:"hidden"},box:{height:120,width:120,color:"#f8f9ff",backgroundColor:"#b58df1",borderRadius:20,alignItems:"center",justifyContent:"center"}})},14151:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>c,toc:()=>u});var o=t(87462),i=(t(67294),t(3905)),a=t(11192),r=t(91969);const s={slug:"accordion",title:"Accordion"},l=void 0,c={permalink:"/react-native-reanimated/examples/accordion",source:"@site/blog/accordion.md",title:"Accordion",description:'An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in "FAQ" sections.',date:"2024-07-09T10:10:27.000Z",formattedDate:"July 9, 2024",tags:[],hasTruncateMarker:!1,authors:[],frontMatter:{slug:"accordion",title:"Accordion"},nextItem:{title:"Bottom Sheet",permalink:"/react-native-reanimated/examples/bottomsheet"}},d={authorsImageUrls:[]},u=[],m=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",n)},p=m("InteractiveExample"),h=m("CollapsibleCode"),y=m("ExampleVideo"),f={toc:u},w="wrapper";function g(e){let{components:n,...t}=e;return(0,i.kt)(w,(0,o.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,'An accordion allows to show and hide a piece of content with a smooth animation. Commonly used in "FAQ" sections.'),(0,i.kt)(p,{src:r.Z,component:a.Z,mdxType:"InteractiveExample"}),(0,i.kt)("p",null,"The following implementation of an accordion relies on ",(0,i.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared values"),". Leveraging shared values helps to prevent unnecessary re-renders. We define shared values using the useSharedValue hook."),(0,i.kt)(h,{src:r.Z,showLines:[16,16],mdxType:"CollapsibleCode"}),(0,i.kt)(y,{sources:{android:"/react-native-reanimated/recordings/examples/accordion_android.mov",ios:"/react-native-reanimated/recordings/examples/accordion_ios.mov"},mdxType:"ExampleVideo"}),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},"AccordionItem")," component encapsulates each item in the accordion. A ",(0,i.kt)("inlineCode",{parentName:"p"},"height")," shared value manages the height of the item. The height dynamically adjusts based on the ",(0,i.kt)("inlineCode",{parentName:"p"},"isExpanded")," prop, resulting in smooth expansion and collapse animations. The ",(0,i.kt)("inlineCode",{parentName:"p"},"duration")," prop controls the duration of the animation."),(0,i.kt)("p",null,"Inside the ",(0,i.kt)("strong",{parentName:"p"},"AccordionItem"),", the children represent the content section. It can accommodate various types of content."),(0,i.kt)("samp",{id:"Accordion"},"Accordion"),(0,i.kt)(h,{src:r.Z,showLines:[9,41],mdxType:"CollapsibleCode"}))}g.isMDXComponent=!0},91969:(e,n,t)=>{t.d(n,{Z:()=>o});const o="import React from 'react';\nimport { StyleSheet, View, Button, SafeAreaView } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useDerivedValue,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n\nfunction AccordionItem({\n  isExpanded,\n  children,\n  viewKey,\n  style,\n  duration = 500,\n}) {\n  const height = useSharedValue(0);\n\n  const derivedHeight = useDerivedValue(() =>\n    withTiming(height.value * Number(isExpanded.value), {\n      duration,\n    })\n  );\n  const bodyStyle = useAnimatedStyle(() => ({\n    height: derivedHeight.value,\n  }));\n\n  return (\n    <Animated.View\n      key={`accordionItem_${viewKey}`}\n      style={[styles.animatedView, bodyStyle, style]}>\n      <View\n        onLayout={(e) => {\n          height.value = e.nativeEvent.layout.height;\n        }}\n        style={styles.wrapper}>\n        {children}\n      </View>\n    </Animated.View>\n  );\n}\n\nfunction Item() {\n  return <View style={styles.box} />;\n}\n\nfunction Parent({ open }) {\n  return (\n    <View style={styles.parent}>\n      <AccordionItem isExpanded={open} viewKey=\"Accordion\">\n        <Item />\n      </AccordionItem>\n    </View>\n  );\n}\n\nexport default function App() {\n  const open = useSharedValue(false);\n  const onPress = () => {\n    open.value = !open.value;\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.buttonContainer}>\n        <Button onPress={onPress} title=\"Click me\" />\n      </View>\n\n      <View style={styles.content}>\n        <Parent open={open} />\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: 24,\n  },\n  buttonContainer: {\n    flex: 1,\n    paddingBottom: '1rem',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  content: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  parent: {\n    width: 200,\n  },\n  wrapper: {\n    width: '100%',\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  animatedView: {\n    width: '100%',\n    overflow: 'hidden',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    color: '#f8f9ff',\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"}}]);